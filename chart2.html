<html>
	<head>
		<title>compare</title>
		<link rel="stylesheet" type="text/css" href="select.css"/>
		<meta charset="gbk">
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
         rel="stylesheet">
		<script>
            function drawCircle(canvasId, data_arr, color_arr, text_arr)
            {
                var c = document.getElementById(canvasId);
                var ctx = c.getContext("2d");

                var radius = 80; //半径
                var ox = radius + 70, oy = radius + 130; //圆心

                var width = 30, height = 10; //图例宽和高
                var posX = 30, posY = 10;   //
                var textX = posX + width + 5, textY = posY + 10;

                var startAngle = 0; //起始弧度
                var endAngle = 0;   //结束弧度
                for (var i = 0; i < data_arr.length; i++)
                {
                    //绘制饼图
                    endAngle = endAngle + data_arr[i] * Math.PI * 2; //结束弧度
                    ctx.fillStyle = color_arr[i];
                    ctx.beginPath();
                    ctx.moveTo(ox, oy); //移动到到圆心
                    ctx.arc(ox, oy, radius, startAngle, endAngle, false);
                    ctx.closePath();
                    ctx.fill();
                    startAngle = endAngle; //设置起始弧度

                    //绘制比例图及文字
                    ctx.fillStyle = color_arr[i];
                    ctx.fillRect(posX, posY + 20 * i, width, height);
                    ctx.moveTo(posX, posY + 20 * i);
                    ctx.font = 'bold 12px 微软雅黑';    //斜体 30像素 微软雅黑字体
                    ctx.fillStyle = color_arr[i]; //"#000000";
                    var percent = text_arr[i] + "：" + 100 * data_arr[i] + "%";
                    ctx.fillText(percent, textX, textY + 20 * i);
                }
            }

            function init() {

                var data_arr = [0.1, 0.4, 0.2, 0.1, 0.1, 0.1];
                var color_arr = ["#5A5AAD", "#A8FF24", "#66B3FF", "#4F9D9D", "#FFFF6F", "#BE77FF","#FF5151"];
                var text_arr = ["Shopping", "Eating", "Transport", "Entertainment",'Maintenance','Fitness'];

                drawCircle("canvas_circle", data_arr, color_arr, text_arr);
            }

            window.onload = init;
		</script>
	</head>
	
	<body>

<!-- head bar -->
		<div id="screen">
			<div class="head-bar">
				<a href="main_page.html">
					<div class="back-button">
						<i class="material-icons">arrow_back</i>
					</div>
				</a>
					<h1 class="chart-title">Chart</h1>
			</div>

<!-- time choosing button -->
		<div class = "interval-button">
			<button class ="time-choose" id="weekly" onclick = "    "><a href="chart.html" style='text-decoration:none';>Weekly</a></button>
			<button class ="time-choose" id="monthly" onclick = "    "><a href="chart1.html" style='text-decoration:none';>Monthly</a></button>
			<button class ="time-choose" id="yearly" onclick = "   "><a href="chart2.html" style='text-decoration:none';>Yearly</a></button>
		</div>
			<p>
				<canvas id="canvas_circle" width="500" height="300"  >
				</canvas>
			</p>
	<div class = "interval-button1">
		<button class ="time-choose2" id="2017" onclick = "    ">2017</button>
		<button class ="time-choose2" id="2018" onclick = "    ">2018</button>
		<button class ="time-choose2" id="2019" onclick = "   ">2019</button>
		<button class ="time-choose2"  id="2020"  onclick = "   ">2020</button>

	</div>
<script src="category.js"></script>

	</body>
</html>